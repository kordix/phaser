<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>

</head>
<body>
    


    <script>
     // create a new Phaser game instance
        var config = {
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            backgroundColor: '#000',
            scene: {
                create: create
            }
        };
        var game = new Phaser.Game(config);

        // define the create function
        function create() {
            // create a group to hold the circles
            var circles = this.add.group();
            let self = this;
            // function to add a new circle to the group and start color change timer
            function addCircle() {
                // create a new circle at a random position and add it to the group
                var circle = this.add.graphics({ fillStyle: { color: 0xff0000 } });
                circle.fillCircle(Math.random() * 800, Math.random() * 600, 50);
                circles.add(circle);

                // start a timer to change the circle's color every 3 seconds
                self.time.addEvent({
                    delay: 3000,
                    loop: true,
                    callback: function () {
                        console.log('fasfdasdfs');

                        circle.fillStyle = {color: 0x00ff00 };
                        // circle.x = 10;
                        // circle.y = 10;
                        // circle.fillStyle(colorToHexString(Phaser.Display.Color.RandomRGB(100, 255)));

                        // circle.setScale(2);
                    },
                    callbackScope: this
                });
            }

            // add a circle to the group every 200ms (5 times per second)
            this.time.addEvent({
                delay: 2000,
                loop: true,
                callback: addCircle,
                callbackScope: this
            });
        }

        // utility function to convert RGB color to hex string
        function colorToHexString(color) {
            return '#' + Phaser.Display.Color.RGBToString(color.red, color.green, color.blue, 6);
        }


    </script>
</body>
</html>